<div class="product-card">
  <div class="product-card-content" [class.out-of-stock]="product.stock_quantity === 0">
    <div class="product-info">
      <div class="product-header">
        <h4 class="product-name" [class.out-of-stock-text]="product.stock_quantity === 0">
          {{ product.name }}
        </h4>
        <div class="d-flex justify-content-between">
          <span class="product-sku" [class.out-of-stock-sku]="product.stock_quantity === 0">
            SKU: {{ product.sku }}
          </span>
          <span class="product-sku" [class.out-of-stock-sku]="product.stock_quantity === 0">
            Số lượng: {{ product.stock_quantity }}
          </span>
        </div>
      </div>

      <div class="product-footer">
        <div class="price-section">
          @if (product.originalPrice && product.originalPrice > product.price) {
          <span class="original-price">{{ formatPrice(product.originalPrice) }}</span>
          }
          <span class="current-price">{{ formatPrice(product.price) }}</span>
        </div>

        <button
          pButton
          type="button"
          [disabled]="product.stock_quantity === 0"
          (click)="onAddToCart()"
          class="add-to-cart-btn"
          [class.pulse]="product.stock_quantity > 0"
        >
          @if (product.stock_quantity === 0) {
          <i class="pi pi-times"></i>
          <span>Hết hàng</span>
          } @else {
          <i class="pi pi-plus"></i>
          <span>Thêm</span>
          }
        </button>
      </div>
    </div>
  </div>
</div>
