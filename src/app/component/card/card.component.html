<div class="product-card" [class.out-of-stock]="isOutOfStock" [class.low-stock]="isLowStock" (click)="onAddToCart($event)">
  @if (isOutOfStock) {
    <div class="stock-badge out">
      <i class="pi pi-times-circle"></i>
      <span>Hết hàng</span>
    </div>
  } @else if (isLowStock) {
    <div class="stock-badge warning">
      <i class="pi pi-exclamation-triangle"></i>
      <span>{{ stockDisplay }}</span>
    </div>
  }

  <div class="card-content">
    <div class="product-header">
      <div class="product-icon">
        <i class="pi pi-box"></i>
      </div>
      <div class="product-stock" [class.low-stock]="isLowStock" [class.out-of-stock]="isOutOfStock">
        <i class="pi pi-database"></i>
        <span>{{ stockDisplay }}</span>
      </div>
    </div>

    <div class="product-body">
      <h4 class="product-name" [title]="product.name">{{ product.name }}</h4>
      <div class="product-sku">
        <i class="pi pi-tag"></i>
        <span>{{ product.sku }}</span>
      </div>
    </div>

    <div class="product-footer">
      <div class="product-price">
        <span class="price-amount">{{ formatPrice(product.price) }}</span>
        <span class="price-unit">/ {{ product.unit || 'sp' }}</span>
      </div>
      <button class="btn-add" [disabled]="isOutOfStock">
        <i class="pi pi-plus"></i>
      </button>
    </div>
  </div>
</div>
